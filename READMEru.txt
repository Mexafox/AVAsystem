░░░░░▄░░░░░░░░░░░░░░▄░░░░░░
░░░░░██░░░░░░░░░░░░██░░░░░░
░░░░░███░░░░░░░░░░███░░░░░░
░░░░░████░░░░░░░░████░░░░░░
░░░░░█████░░███░░████░░░░░░
░░░░░██████░███░██████░░░░░
░░░░░█████████████████░░░░░
▄░░▀███████████████████▀░░▄
░▀███████████████████████▀░
░▄▄████▀░▀▀█████▀▀░▀████▄▄░
░░▀▀█████▄░░███░░▄█████▀▀░░
░░░░░░▀████░███░▄███▀░░░░░░
░░░░░░░░███████████░░░░░░░░
░░░░░░░░░█████████░░░░░░░░░
░░░░░░░░░░▀█████▀░░░░░░░░░░
░░░░░░░░░░░█████░░░░░░░░░░░
░░░░░░░░░░░░▀█▀░░░░░░░░░░░░
AVAsystem
english version in READMEen.txt

READMEru.txt
OwO
Это система меню и функционала для аватаров VRChat позволяет быстро устанавливать меню с поддержкой своих элементов и объектов на аватара при его редактирование в Unity editor и в последующем максимально легко переносить ее на новые версии основ аватара, при их обновлении. Среди функций имеется аналог space mover, полет, фонарик, ускорение, смена одежды, смена материалов (текстурок), танцы и звуки, показ объектов, спаун объектов (префабов) в мир, изменение размера аватара, спрингболлы, трэилы, свободная камера, телепорт (телепортирует в пределах мира только других игроков), управление анимациями и многое другое. 

Более наглядно и подробно установка и настройка AVAsystem показана на моем видео 
AVAsystem
https://youtu.be/sLGCRG795Ho
на моем канале
https://www.youtube.com/@mexafox
Английскую версию с английской озвучкой я не делал по причине отсутствия достаточного интереса подписчиков к английским версиям моих видео при значительной для меня трудоемкости их создания. Если Вас интересует английская версия, то можете написать об этом в комментариях к видео. Если будет достаточный спрос, то я обязательно сделаю качественное предложение.

Установка: 

1. запустить через unity hub предварительно установленный вручную unity editor версии 2019.4.31f1
https://unity3d.com/unity/whats-new/2019.4.31

2. установить ассет для аватаров VRChat, он должен быть включен в проект
https://vrchat.com/download/sdk3-avatars

3. установить ассет основы аватара
https://app.gumroad.com/library
желательно Rexouium Avatar

4. установить ассет AVAsystem.unitypackage

5. по желанию можно установить эмулятор работы аватара в VRChat, чтобы иметь возможность проверять работу менюшки не загружая каждый раз аватара на сервер VRChat. 
https://github.com/lyuma/Av3Emulator

6. установить в проект все остальные желаемые ассеты, например с 
https://assetstore.unity.com

7. Открыть сцену от своей основы. 

8. В дирректории AvaSystem открыть сцену ava_scene.unity параллельно с открытой сценой от своей основы. Затем перетащить все, что относится к AVAsystem (Это все объекты, начиная с clothes, либо можно взять объекты со сцены) из сцены ava_scene.unity в объект аватара из сцены основы и сохранить сцену под новым именем, например mein_scene.unity, в удобную дирректорию. На остальных сценах нажать discard changes и remove scene. 

9. Выполнить привязку ParentConstraint из объектов headbase - Head, right_paw - Right wrist, left_paw - Left wrist к "костям" (объектам) своего аватара (при их выделении открывается раздел "inspector" и там нужно в Parent constraint на Sources установить соответствующую наименованию объекта "кость" от своей основы). 

Можно еще по аналогии сделать и  Chest_Items - ChestUp, leftleg_Items - Left toe, rightleg_Items - Right toe, hips_items - Hips, tail_items - Tail6, но для использования их нужно еще включить

10. Выделить первый главный объект своей основы аватара и установить на него слои анимаций (контроллеры анимаций): AVA_FX, AVA_additive, AVA_action. Затем там же установить в качестве меню аватара ava_Menu, а в качестве параметров аватара - ava_Vars (если в основе необходима работа ее менюшки, то придется решить, на основе какого файла делать файл с переменными в зависимости от объема работы по созданию переменных, для AVAsystem используются 17 переменных, но обязательных там только 4 переменные типа intager)

11. Открыть файл ava_menu/actions.asset и на rex поставить в качестве Sub Menu менюшку от своей основы. Ну и rex можно переименовать в имя своей основы. 

12. Настроить оптимальное положение точки обзора для своего аватара View Position в VRC Avatar Descriptor (у меня X=0, Y=1.78, Z=0.2, дисплей в этом случае отображается нормально, без дополнительных его настроек и обзор на тело аватара похож на обзор в реальном мире). 

13. Нужно настроить расстояние от глаз, до дисплея. Это делается изменением параметра Position по оси Z из объекта display, который лежит в headbase. 
Также желательно изменить имя текстурки и материала дисплея, чтобы он не конфликтовал с другими аватарами, также имеющими AVAsystem. Для этого нужно прямо в Unity editor зайти в дирректорию ava_materials и переименовать там файлы display22.mat и display22.renderTexture на произвольные имена. После переименования желательно убедиться, что текстура с уже новым именем по прежнему установлена на материал, а материал с новым именем все еще установлен на дисплей. 

14. При желании накинуть на свою основу одежду, перетаскивая кости ее арматуры в кости от основы по их соответствующим именам. А визуальную часть одежды скинуть в например в clothes top_clothes top1. Другую поверхность одежды на смену первой соответственно в top2 и т.д. Соответственно в bottom_clothes и other_clothes по аналогии скинуть поверхности одежды, которая должна включаться одновременно с перой. 

15. При желании накинуть префабы любых своих предметов (объектов) в номерные объекты спаунеров и номерные объекты, "привязанные" к конечностям аватара. При выставлении их придется включить более старшие в иерархии объекты и после настройки новых объектов, не забыть их выключить (сделать как было). При добавлении новых объектов не забываем распаковывать префабы и обнулять координаты (или создвать новый объект).  

16. Чтобы закинуть звук нужно выделить нужный объект в sound / Audio1 и т.д. и в audio clip установить аудиофайл

17. Чтобы установить танец, нужны 2 файла: аудиофайл и файл анимации. Аудиофайлы по аналогии со звуками устанавливаются в объекты music, например music1. А для установки анимации танца нужно открыть в unity файл AVA_action.controller (расширение в unity не отобразается, просто выделить его в перечне файлов в unity), а затем перейти на вкладку Animator. Там будет открыт этот контроллер анимаций, нужно перейти на слой "Action", выделить соответствующий танец (Dance1, dance2) и в motion выбрать свою анимацию танца. 

18. Для тестирования менюшки прямо в unity нужно запустить эмулятор. Для этого после создания сцены нужно раскрыть меню "tools" и выбтрать "Enable Avatars 3.0 emulator". Затем нажать запуск проекта и выделить объект аватара. В разделе inspector появится менюшка. Есть и детальная эмуляция менюшки VRChat. 

19. Загрузить аватар в VRChat на свой аккаунт, используя раздел Unity меню "VRChat SDK" пункт "Show Control Panel", там зайти в свой аккаунт и загрузить аватар. 

20. Наслаждайтесь новыми возможностями для исследования миров и не никогда жульничайте в совметных играх с другими игроками, не будьте бяками :). Везде играйте честно, уважительно к другим игрокам, по принятым всеми правилам, чтобы и другие игроки на фоне большинства тоже не хотели нарушать правила и творить кринж. Miow, OwO. 

Примечание
Система в исходном виде довольно ресурсоемкая, по умолчанию включающая в себя все, что может пригодится для исследования миров и веселья. Поэтому рекомендую после тестирования нужных Вам функций удалить из нее все лишнее, от переменных, до слоев контроллеров анимаций и лишних файлов, чтобы не перегружать устройства других игроков. 


Использование в меню VRChat: 
первая кнопка 
off all
отключает все выбранные объекты на аватаре.

items
меню управления предметами, одеждой, и скином аватара, спаунерами, спрингболлами и системой рисования. В подменюшке с одеждой помимо выбора одежды есть смена материалов (текстур) как одежды, так и аватара. 

fly
режим полета. Для взлета требуется, чтобы аватар оторвался от поверхности земли (terrain collader). Полет идет клавишами движения вперед в направлении взгляда. Для ускорения и вымтрого взлета можно нажимать прыжок (если он разрешен). 

flashlight
фонарик

actions
здесь расположено все, что связано с действиями: ускорение, меню управления звуком и запуск танцев, меню движений (запуск анимаций сидения, лежания и т.д.), оригинальное меню от аватара, камера в простом режиме и расширенном, дисплей во весь экран и хромакей, продвинутый режим с поворотами камеры, включение телепорта, выбор точки камеры, дыхание, переключение на женскую версию, изменение размера аватара, движения хвоста, подъем правой лапки, коллайдерная стенка, шлейфы, партиклы, язык и мордашка

space_mover
после его включения кнопкой можно двигать аватара в пространстве по 2 осям (вертикально и вперед-назад, что дает вид от третьего лица). Для сброса точки обзора и переходу ее на глаза аватара нужно нажать view_move (работает только по вертикали). 


в проекте использовались бесплатные пакеты:
UNITY TECHNOLOGIES
Unity Particle Pack

MOONFLOWER CARNIVORE
Particle Attractor

JMY Studio
Electronic Music For Video Games Free

KEVIN IGLESIAS
Dance Animations FREE

TimeOfDay&WeatherSystem

бесплатные ресурсы с дискорда:
https://discord.gg/rexouria

и еще многие источники (например анимации, копируемые с различных свободно распространяемых ассетов), которые я к сожалению не записал своевременно, так как хотел просмотреть больше ассетов и больше методов изучить, чтобы быстрее проект доделать

Поэтому проект бесплатный и свободный в плане распространения и модификации, просьба только авторов из этого файлика не стирать и себя не забыть в конце добавить с перечнем своих изменений, чтобы пользователи знали своих спасителей и благодетелей, 

Mexafox (Alex Miller)
потрачено более 180 часов
Добавлено: 
меню управления, контроллеры анимаций action, additive, FX, переменные (файл vars.txt, где перечислены все переменные с их описанием, файл ava_vars.asset с переменными от AVAsystem и rexouium), режим полета, яркий фонарик, ускоритель, аналог Space mover (Locomotion) по 2 осям, анимации стояния, лежания, танец, звук, переключение материалов, переключение предметов на конечностях и торсе аватара, коллайдерный совочек, система рисования, спрингболлы с выбором объекта, система камеры с полноэкранным режимом и хромакеем, точки позиционирования камеры, продвинутый режим позиционирования камеры, привязка настроенных под телепорт станций к камере (можно телепортировать других игроков в точку перед камерой), трэйлы (шлейфы за персонажем), масштабирование аватара, движения хвоста, отключение дыхания для аватара rexouium, фикс бленда muscles, переключение на женскую версию rexouium, подъем правой передней лапы, спаунер предметов перед аватаров, два отдельных спаунера объектов с привязкой к миру (выбранный через меню объект фиксируется в мире и остается на месте, даже если сам аватар двигается в мире), вылетающая вперед "коллайдерная стена" с огненным шаром (сильно толкает объекты на карте, которые может толкать сам аватар), выбор эффектов частиц (particle). 